/*
 *					KEY POSITIONS
 *		 0	 1	 2	 3	 4		 5	 6	 7	 8	 9
 *		10	11	12	13	14		15	16	17	18	19 
 *			20	21	22				23	24	25
 *					26	27		28	29
 *
 *		 K	 W	 C	 D	 B		 J	 L	 U	 Y	 '
 *		 A	 R	 S	 T	 P		 X	 N	 H	 I	 O 
 *			 V	 F	 G				 M	 Q	 Z
 *					ESC	SPA		 E	BSPC
 */

#define COMBO(NAME, BINDINGS, KEYPOS, LAYERS, TIMEOUT) \
combo_##NAME { \
	bindings = <BINDINGS>; \
	timeout-ms = <TIMEOUT>; \
	key-positions = <KEYPOS>; \
	layers = <LAYERS>; \
};

#define COMBO_TERM_FAST 20
#define COMBO_TERM_NORMAL 30
#define COMBO_TERM_SLOW 40

/ {
    combos {
		compatible = "zmk,combos";

		#ifdef KEYMAP_DRAWER

			COMBO(lt,       &kp LT,       	20 21,  	DEF, COMBO_TERM_NORMAL)
			COMBO(gt,      	&kp GT,      	21 22,		DEF, COMBO_TERM_NORMAL)
			COMBO(at,       UK_AT,       	 6  7,  	DEF, COMBO_TERM_NORMAL)
			COMBO(star,     &kp STAR,      	 2  3,		DEF, COMBO_TERM_NORMAL)
			COMBO(excl,     &kp EXCL,    	24 25, 		DEF, COMBO_TERM_NORMAL)
			COMBO(qmark,    &kp QMARK,    	23 24, 		DEF, COMBO_TERM_NORMAL)
			COMBO(grave3,	&macro_grave3,	23 25, 		DEF, COMBO_TERM_NORMAL)
			COMBO(nequal, 	&macro_nequal,	20 22, 		DEF, COMBO_TERM_NORMAL)

			// brackets
			COMBO(rbrc,     &kp RBRC,     	 3 13,  	DEF, COMBO_TERM_SLOW)
			COMBO(rpar,     &kp RPAR,     	 2 12,  	DEF, COMBO_TERM_SLOW)
			COMBO(rbkt,     &kp RBKT,     	 1 11,  	DEF, COMBO_TERM_SLOW)
			COMBO(lbkt,		&kp LBKT,     	 8 18,  	DEF, COMBO_TERM_SLOW)
			COMBO(lpar,     &kp LPAR,     	 7 17,  	DEF, COMBO_TERM_SLOW)
			COMBO(lbrc,     &kp LBRC,     	 6 16,  	DEF, COMBO_TERM_SLOW)

			// drawn seperately
			COMBO(cword_l,	&caps_word,		11 12,		DEF, COMBO_TERM_SLOW)
			COMBO(cword_r,	&caps_word,		17 18,		DEF, COMBO_TERM_SLOW)
			COMBO(bslh,     &kp BSLH,      	 2 13,		DEF, COMBO_TERM_NORMAL)
			COMBO(fslh,   	UK_FSLH,       	 7 16,  	DEF, COMBO_TERM_NORMAL)
			COMBO(esc,		&kp ESC,		12 22, 		DEF, COMBO_TERM_NORMAL)
			COMBO(bspc,		&kp BSPC,		17 23, 		DEF, COMBO_TERM_NORMAL)
			COMBO(sundo,	SHO_UNDO,		13 14,		DEF, COMBO_TERM_NORMAL)
			COMBO(sredo,	SHO_REDO,		 3  4,		DEF, COMBO_TERM_NORMAL)			
		#endif
	};
};