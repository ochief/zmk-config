#define str(s) #s
#define MACRO(NAME, BINDINGS, WAITMS, TAPMS) \
	macro_##NAME: macro_##NAME { \
		compatible = "zmk,behavior-macro"; \
		label = str(macro_##NAME); \
		#binding-cells = <0>; \
		wait-ms = <WAITMS>; \
		tap-ms = <TAPMS>; \
		bindings = <BINDINGS>; \
	};

/* macro: */
/ {
	macros {
		MACRO(grave3,	&macro_tap &kp GRAVE &macro_tap &kp GRAVE &macro_tap &kp GRAVE, 0, 0)
		MACRO(nequal,	&macro_tap &kp LT &macro_tap &kp GT, 0, 0)
	};
};